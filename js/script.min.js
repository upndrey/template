if(window.addEventListener)
{window.addEventListener('load',onLoadHandler);window.addEventListener('scroll',myStick);window.addEventListener('scroll',toTopButton)}
else if(window.attachEvent)
{window.attachEvent('onload',onLoadHandler);window.attachEvent('onscroll',myStick);window.attachEvent('onscroll',toTopButton)}
function myStick(){var topmenu=document.getElementById("topmenu");var header=document.getElementById("header");var top=topmenu.getBoundingClientRect().top;var btm=header.getBoundingClientRect().bottom;if(top<=0){topmenu.classList.add("stick")}
if(btm>1){topmenu.classList.remove("stick")}}
var smoothJumpUp=function(){if(document.body.scrollTop>0||document.documentElement.scrollTop>0){window.scrollBy(0,-50);setTimeout(smoothJumpUp,20)}}
function toTopButton(){var scrolled=window.pageYOffset||document.documentElement.scrollTop;if(scrolled>400){document.getElementById('to-top-button').classList.add("active")}else{document.getElementById('to-top-button').classList.remove("active")}}
function onLoadHandler(){document.getElementById("topmenu-header-toggle").onclick=function(){this.classList.toggle("active");document.getElementById("topmenu-container").classList.toggle("active");document.querySelector("body").classList.toggle("overflowhidden");event.preventDefault()};document.getElementById("rightmenu-header-toggle").onclick=function(){this.classList.toggle("active");document.getElementById("rightmenu").classList.toggle("active");event.preventDefault()};document.getElementById("search-toggle").onclick=function(){this.classList.toggle("active");document.getElementById("topmenu").classList.toggle("active");event.preventDefault()};document.getElementById("search-form-input").onfocus=function(){document.getElementById("search-form-input-label").classList.add("focus")};document.getElementById("search-form-input").onblur=function(){if(!this.value){document.getElementById("search-form-input-label").classList.remove("focus")}};document.getElementById("search-form-input-mobile").onfocus=function(){document.getElementById("search-form-input-label-mobile").classList.add("focus")};document.getElementById("search-form-input-mobile").onblur=function(){if(!this.value){document.getElementById("search-form-input-label-mobile").classList.remove("focus")}};document.querySelector(".topmenu .cart-button").onclick=function(){document.querySelector(".topmenu .cart-panel").classList.toggle("displaynone")}
document.querySelector(".topmenu .cart-button").onblur=function(){setTimeout(()=>document.querySelector(".topmenu .cart-panel").classList.add("displaynone"),250)}
document.querySelector(".topmenu .cart-panel-button").onclick=function(){window.location.href="checkout.html"}
document.querySelector(".header .cart-button-mobile").onclick=function(){window.location.href="cart_new.html"}
var menuLevel2Items=document.querySelectorAll(".menu-level-2 > a");menuLevel2Items.forEach(function(menuLevel2Item){menuLevel2Item.addEventListener('click',function(){if(!this.classList.contains("active")){var menuLevel2Items_again=document.querySelectorAll(".menu-level-2 > a.active");menuLevel2Items_again.forEach(function(menuLevel2Item_again){menuLevel2Item_again.classList.remove("active")})}
this.classList.toggle("active");event.preventDefault()})});if(document.getElementById("tabs"))
{document.getElementById("tabs").style.marginBottom=window.getComputedStyle(document.querySelector(".tab > input:checked ~ div"),null).height;var setTabsHeight=function(tabContent){return function(){document.getElementById("tabs").style.marginBottom=window.getComputedStyle(tabContent,null).height}}
var x=document.querySelectorAll("#tabs .tab");var y=document.querySelectorAll("#tabs .tab .tab-content");var i;for(i=0;i<x.length;i++){x[i].onclick=setTabsHeight(y[i])}}
function putIntoCart(product_id,event){var in_cart=document.querySelector('button[data-product_id="'+product_id+'"] ~ .in-cart');if(in_cart)in_cart.style.display="inline-block";var items_in_cart=document.querySelector('button[data-product_id="'+product_id+'"] ~ .in-cart > .items-number');if(items_in_cart){items_in_cart.innerHTML=parseInt(items_in_cart.innerHTML)+1;if(parseInt(items_in_cart.innerHTML)>99)
items_in_cart.parentNode.style.margin="0 auto"}
var offset_x,offset_y;offset_x=50;offset_y=50;var item_img=document.querySelector('a[data-product_id="'+product_id+'"] > .item-image > img');if(!item_img){item_img=document.querySelector('.single-product .product-img > img[data-product_id="'+product_id+'"]');offset_x=175;offset_y=150}
if(!item_img){item_img=document.querySelector('.account-orders-history .expandable-details-table-row[data-product_id="'+product_id+'"] .product-img > img');offset_x=0;offset_y=0}
if(item_img){var item_img_clone=item_img.cloneNode(!0);item_img_clone.classList.add("clone");var parentDiv=item_img.parentNode.parentNode.parentNode;var item_img_cloned=parentDiv.insertBefore(item_img_clone,item_img.parentNode.parentNode);item_img_cloned.tabIndex="-1";var item_img_coords=item_img.getBoundingClientRect();item_img_cloned.style.top=item_img_coords.y+"px";item_img_cloned.style.right=parseInt(window.innerWidth-item_img_coords.right)+"px";var cart_icon;if(getComputedStyle(document.querySelector(".topmenu .cart"),null).display!=="none")
cart_icon=document.querySelector(".topmenu .cart-button");else if(getComputedStyle(document.querySelector(".header-right-buttons"),null).display!=="none")
cart_icon=document.querySelector(".header-right-buttons .cart-button-mobile");else cart_icon=document.querySelector(".header");var cart_coords=cart_icon.getBoundingClientRect();setTimeout(()=>console.log(item_img_cloned.style.right=parseInt(window.innerWidth-cart_coords.right-offset_x)+"px"),1);setTimeout(()=>console.log(item_img_cloned.style.top=parseInt(cart_coords.top-offset_y)+"px"),2);setTimeout(()=>item_img_cloned.classList.add("flying"),3);setTimeout(()=>item_img_cloned.remove(),2000)}
event.preventDefault()}
var buyBtns=document.querySelectorAll(".buy-button");for(i=0;i<buyBtns.length;i++){buyBtns[i].addEventListener('click',putIntoCart.bind(null,buyBtns[i].getAttribute("data-product_id")))}
function AddToFavorites(favBtn,event){if(document.querySelector("body").classList.contains("loggedin")){favBtn.classList.toggle("added-to-favs");var product_id=favBtn.getAttribute("data-product_id")}else{var modalWrap=document.querySelector(".modal.fast-login").parentNode;if(modalWrap)
modalWrap.classList.remove("displaynone")}
event.preventDefault()}
var favBtns=document.querySelectorAll(".fav-button");for(i=0;i<favBtns.length;i++){favBtns[i].addEventListener('click',AddToFavorites.bind(null,favBtns[i]))}
function AddToInformme(informmeBtn,event){if(document.querySelector("body").classList.contains("loggedin")){informmeBtn.classList.toggle("added-to-informme");var product_id=informmeBtn.getAttribute("data-product_id")}else{var modalWrap=document.querySelector(".modal.fast-login").parentNode;if(modalWrap)
modalWrap.classList.remove("displaynone")}
event.preventDefault()}
var informmeBtns=document.querySelectorAll(".informme-button");for(i=0;i<informmeBtns.length;i++){informmeBtns[i].addEventListener('click',AddToInformme.bind(null,informmeBtns[i]))}
function gotoCart(event){window.location.href="cart_new.html";event.preventDefault()}
var cartIcons=document.querySelectorAll(".tabs .tab .tab-content .in-cart");for(i=0;i<cartIcons.length;i++){cartIcons[i].addEventListener('click',gotoCart)}
function gotoFav(event){window.location.href="account.html?account_tab=account-favorites";event.preventDefault()}
var favIcons=document.querySelectorAll(".tabs .tab .tab-content .in-fav");for(i=0;i<favIcons.length;i++){favIcons[i].addEventListener('click',gotoFav)}
if(document.getElementById("vertical-tabs"))
{var verticalTabsHeaders=document.querySelectorAll(".vertical-tabs .vertical-tab-header");for(i=0;i<verticalTabsHeaders.length;i++){verticalTabsHeaders[i].addEventListener('change',function(){var verticalTabsContents=document.querySelectorAll(".vertical-tabs .vertical-tab-content");for(j=0;j<verticalTabsContents.length;j++){verticalTabsContents[j].classList.remove("active")}
var verticalTabContent=document.querySelector('.vertical-tabs .vertical-tab-content[data-vertical_tab_id="'+this.getAttribute("id")+'"]');verticalTabContent.classList.add("active");document.querySelector(".vertical-tabs .vertical-tabs-contents").style.height=window.getComputedStyle(verticalTabContent,null).height})}
document.querySelector(".vertical-tabs .vertical-tabs-contents").style.height=window.getComputedStyle(document.querySelector('.vertical-tabs .vertical-tab-content[data-vertical_tab_id="service01"]'),null).height}
function rateProduct(i,event){var ratingCheckboxes=document.querySelectorAll('.comments-tab .reply-block .checkbox label input[type="checkbox"]');for(j=0;j<ratingCheckboxes.length;j++){ratingCheckboxes[j].checked=!1}
for(j=0;j<=i;j++){ratingCheckboxes[j].checked=!0}}
var ratingCheckboxes=document.querySelectorAll('.comments-tab .reply-block .checkbox label input[type="checkbox"]');for(i=0;i<ratingCheckboxes.length;i++){ratingCheckboxes[i].addEventListener('click',rateProduct.bind(null,i))}
var sendBtn=document.querySelector(".comments-tab .send-button-wrap button");if(sendBtn){sendBtn.addEventListener('click',function(){if(!document.querySelector("body").classList.contains("loggedin")){var modalWrap=document.querySelector(".modal.fast-login").parentNode;if(modalWrap){modalWrap.classList.remove("displaynone");event.preventDefault()}}})}
var hideFiltersSwitcher=document.getElementById("hideFiltersSwitcher")
if(hideFiltersSwitcher)
{hideFiltersSwitcher.addEventListener('change',function(){if(this.checked){document.querySelector(".filters").classList.add("switched-off")}else{document.querySelector(".filters").classList.remove("switched-off")}});document.querySelector(".filters").addEventListener('click',function(event){document.getElementById("hideFiltersSwitcher").click();event.stopPropagation()});var filterRows=document.querySelectorAll(".filters .row .filter-values > *");for(i=0;i<filterRows.length;i++){filterRows[i].addEventListener('click',function(event){event.stopPropagation()})}
var filterRows=document.querySelectorAll(".filters .row .filters-controls");for(i=0;i<filterRows.length;i++){filterRows[i].addEventListener('click',function(event){event.stopPropagation()})}
var checkboxAlls=document.querySelectorAll(".filters .checkbox input[type=checkbox].all");for(i=0;i<checkboxAlls.length;i++){checkboxAlls[i].addEventListener('change',function(){var toCheck=!1;if(this.checked)
{toCheck=!0}
var filterCheckboxes=this.parentNode.parentNode.parentNode.querySelectorAll(".checkbox input[type=checkbox]");for(i=0;i<filterCheckboxes.length;i++){filterCheckboxes[i].checked=toCheck}})}
var filterCheckboxes=document.querySelectorAll(".filters .checkbox input[type=checkbox]");for(i=0;i<filterCheckboxes.length;i++){filterCheckboxes[i].addEventListener('change',function(event){if(!this.classList.contains("all")){var filterCheckboxesAgain=this.parentNode.parentNode.parentNode.querySelectorAll("input[type=checkbox]");var toCheck=!0;for(j=1;j<filterCheckboxesAgain.length;j++){toCheck=toCheck&&filterCheckboxesAgain[j].checked}
if(this.parentNode.parentNode.parentNode.querySelector("input[type=checkbox].all"))
this.parentNode.parentNode.parentNode.querySelector("input[type=checkbox].all").checked=toCheck}})}}
var descSummary=document.querySelector(".product-group-description summary")
if(descSummary){descSummary.addEventListener('click',function(event){this.querySelector(".view_text").classList.toggle("displaynone");this.querySelector(".hide_text").classList.toggle("displaynone")})}
var catRows=document.querySelectorAll(".catalog.blocks .tabs .tab-content .row");catRows.forEach(function(catRow){catRow.style.height=catRow.querySelector(".tab-item").offsetHeight+9+"px"});if(document.getElementById("cart-page"))
{var qtyMinuses=document.querySelectorAll(".cart-page .cart-table-row .qty-count");qtyMinuses.forEach(function(qtyMinus){qtyMinus.addEventListener('input',function(){var product_id=this.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-product_id");if(parseInt(this.value)>parseInt(this.getAttribute("max")))
this.value=this.getAttribute("max");var productCost=this.parentNode.parentNode.nextElementSibling;productCost.querySelector(".product-cost-view").innerText=productCost.querySelector(".product-cost-value").value=this.parentNode.parentNode.previousElementSibling.querySelector(".product-price-value").value*this.value;calculateOrderSubtotal();calculateOrderDiscount();calculateOrderTotal()})})
var qtyMinuses=document.querySelectorAll(".cart-page .cart-table-row .qty-minus");qtyMinuses.forEach(function(qtyMinus){qtyMinus.addEventListener('click',function(){var product_id=this.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-product_id");this.nextElementSibling.stepDown();var productCost=this.parentNode.parentNode.nextElementSibling;productCost.querySelector(".product-cost-view").innerText=productCost.querySelector(".product-cost-value").value=this.parentNode.parentNode.previousElementSibling.querySelector(".product-price-value").value*this.nextElementSibling.value;calculateOrderSubtotal();calculateOrderDiscount();calculateOrderTotal()})})
var qtyPluses=document.querySelectorAll(".cart-page .cart-table-row .qty-plus");qtyPluses.forEach(function(qtyPlus){qtyPlus.addEventListener('click',function(){var product_id=this.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("data-product_id");this.previousElementSibling.stepUp();var productCost=this.parentNode.parentNode.nextElementSibling;productCost.querySelector(".product-cost-view").innerText=productCost.querySelector(".product-cost-value").value=this.parentNode.parentNode.previousElementSibling.querySelector(".product-price-value").value*this.previousElementSibling.value;calculateOrderSubtotal();calculateOrderDiscount();calculateOrderTotal()})})
var removeCrosses=document.querySelectorAll(".cart-page .cart-table-row .remove-item");removeCrosses.forEach(function(removeCross){removeCross.addEventListener('click',function(){var product_id=this.parentNode.parentNode.parentNode.getAttribute("data-product_id");this.parentNode.parentNode.parentNode.remove();calculateOrderSubtotal();calculateOrderDiscount();calculateOrderTotal();var cartItems=document.querySelectorAll(".cart-page .cart-table-row");if(!cartItems.length){document.querySelectorAll(".cart-page .container > div").forEach(function(internalDiv){internalDiv.classList.add("displaynone")});document.querySelector(".cart-page .container div.cart-is-empty").classList.remove("displaynone")}})})
function promocodeToProcents(promocode){var procents=0;switch(promocode){case "PROMO10":procents=10;break;case "PROMO20":procents=20;break}
return procents}
document.getElementById("promocode").addEventListener("input",function(){this.value=this.value.toUpperCase();calculateOrderDiscount();calculateOrderTotal()})
document.getElementById("bonus").addEventListener("input",function(){if(parseInt(this.value)>parseInt(this.getAttribute("max")))
this.value=this.getAttribute("max");calculateOrderDiscount();calculateOrderTotal()})
function calculateItemsCosts(){var productPrices=document.querySelectorAll(".product-price-value");var productCounts=document.querySelectorAll(".qty-count");var productCosts=document.querySelectorAll(".product-cost-value");var productCosts_view=document.querySelectorAll(".product-cost-view");for(i=0;i<productPrices.length;i++){productCosts_view[i].innerText=productCosts[i].value=productPrices[i].value*productCounts[i].value}}
function calculateOrderSubtotal(){var orderSubtotal_value=0;var productCosts=document.querySelectorAll(".product-cost-value");for(i=0;i<productCosts.length;i++){orderSubtotal_value+=parseInt(productCosts[i].value)}
document.getElementById("order-subtotal").value=orderSubtotal_value}
function calculateOrderDiscount(){var orderPromocode_procents=promocodeToProcents(document.getElementById("promocode").value);var orderBonus_value=parseInt(document.getElementById("bonus").value);var orderSubtotal_value=document.getElementById("order-subtotal").value;var orderDiscount_value=0;orderDiscount_value+=Math.round(orderSubtotal_value/100*orderPromocode_procents);if(Number.isInteger(orderBonus_value))
orderDiscount_value+=orderBonus_value;if(orderDiscount_value>orderSubtotal_value){document.getElementById("bonus").value=orderBonus_value-(orderDiscount_value-orderSubtotal_value);orderDiscount_value=orderSubtotal_value}
document.getElementById("order-discount").value=orderDiscount_value;if(orderPromocode_procents||orderBonus_value){document.getElementById("order-subtotal-wrap").classList.remove("visibilityhidden");document.getElementById("order-discount-wrap").classList.remove("visibilityhidden")}else{document.getElementById("order-subtotal-wrap").classList.add("visibilityhidden");document.getElementById("order-discount-wrap").classList.add("visibilityhidden")}}
function calculateOrderTotal(){var orderSubtotal=document.getElementById("order-subtotal");var orderDiscount=document.getElementById("order-discount");var orderTotal=document.getElementById("order-total");var checkoutButton=document.querySelector(".checkout-button");var checkoutOk=!0;if(orderDiscount.value>orderSubtotal.value/2){document.querySelector(".discount-warning").classList.remove("displaynone");checkoutOk=!1}else{document.querySelector(".discount-warning").classList.add("displaynone")}
orderTotal.value=orderSubtotal.value-orderDiscount.value;if(orderTotal.value<1000){checkoutOk=!1;document.querySelector(".lowtotal-warning").classList.remove("displaynone")}else{document.querySelector(".lowtotal-warning").classList.add("displaynone")}
if(!checkoutOk){checkoutButton.classList.remove("btn-primary");checkoutButton.classList.add("btn-tertiary");checkoutButton.classList.add("btn-notavailable")}else{checkoutButton.classList.remove("btn-tertiary");checkoutButton.classList.remove("btn-notavailable");checkoutButton.classList.add("btn-primary")}}
calculateItemsCosts();calculateOrderSubtotal();calculateOrderDiscount();calculateOrderTotal()}
if(document.getElementById("checkout-page"))
{document.querySelector(".order").addEventListener("click",function(){this.classList.toggle("active")});var continueButtons=document.querySelectorAll(".accordion-panel:not(:last-child) .delivery-details-button");continueButtons.forEach(function(continueButton){continueButton.addEventListener('click',function(){if(window.innerWidth<768)
window.scrollTo(0,250);event.preventDefault()})})
document.getElementById("delivery_address").addEventListener('change',function(){var deliveryMethods=document.querySelectorAll(".delivery-method");for(i=0;i<deliveryMethods.length;i++){deliveryMethods[i].classList.add("displaynone");deliveryMethods[i].querySelector("input").checked=!1}
document.getElementById("order-delivery-cost").value=0;document.getElementById("order-total").value=parseInt(document.getElementById("order-subtotal").value);var deliveryAddress=document.getElementById("delivery_address").value;if(deliveryAddress=="Барнаул"||deliveryAddress=="Новоалтайск"){var localPlaces=document.querySelectorAll(".local_places");for(i=0;i<localPlaces.length;i++){localPlaces[i].classList.remove("displaynone")}}else{var otherPlaces=document.querySelectorAll(".other_places");for(i=0;i<otherPlaces.length;i++){otherPlaces[i].classList.remove("displaynone")}
if(deliveryAddress=="Алтайский край"){var regionPlaces=document.querySelectorAll(".region_places");for(i=0;i<regionPlaces.length;i++){regionPlaces[i].classList.remove("displaynone")}}}
document.getElementById("accordion-panel-2-warning").classList.remove("displaynone");document.getElementById("accordion-panel-3-warning").classList.remove("displaynone")})
function checkDeliveryAddressFields(){var checkMsg="";var clientFullname=document.getElementById("client_fullname");var deliveryAddress=document.getElementById("delivery_address");var clientPhone=document.getElementById("client_phone");var clientEmail=document.getElementById("client_email");!(/^[\w\.\-]+@[\w\.\-]+\.[\w\.\-]+$/i.test(clientEmail.value))&&(checkMsg="Введите правильный E-mail\n"+checkMsg,clientEmail.focus());!(/^(\+\d)?[0-9\-\(\) ]{5,}$/i.test(clientPhone.value))&&(checkMsg="Введите правильный номер телефона\n"+checkMsg,clientPhone.focus());!(deliveryAddress.value)&&(checkMsg="Введите населенный пункт\n"+checkMsg,deliveryAddress.focus());!(clientFullname.value)&&(checkMsg="Введите ФИО\n"+checkMsg,clientFullname.focus());return checkMsg}
document.getElementById("delivery-details-button-1").addEventListener('click',function(){var checkMsg=checkDeliveryAddressFields();if(!checkMsg){document.getElementById("accordion-panel-2").checked=!0;document.getElementById("accordion-panel-2").focus()}else{document.getElementById("accordion-panel-1").checked=!0;alert(checkMsg);return!1}})
document.getElementById("accordion-panel-2").addEventListener('click',function(){document.getElementById("delivery-details-button-1").click()});var deliveryMethods_input=document.querySelectorAll(".delivery-method > input");deliveryMethods_input.forEach(function(deliveryMethod_input){deliveryMethod_input.addEventListener('click',function(){document.getElementById("accordion-panel-2-warning").classList.add("displaynone");document.getElementById("accordion-panel-3-warning").classList.remove("displaynone");switch(this.value){case "courier":document.getElementById("order-delivery-cost").value=100;break;case "bus":document.getElementById("order-delivery-cost").value=200;break;case "russian_post":document.getElementById("order-delivery-cost").value=300;break;case "pek":document.getElementById("order-delivery-cost").value=400;break;case "sdek":document.getElementById("order-delivery-cost").value=500;break;case "delovye_linii":document.getElementById("order-delivery-cost").value=600;break;case "energia":document.getElementById("order-delivery-cost").value=700;break}
document.getElementById("order-total").value=parseInt(document.getElementById("order-subtotal").value)+parseInt(document.getElementById("order-delivery-cost").value);var paymentMethods=document.querySelectorAll(".payment-method");for(i=0;i<paymentMethods.length;i++){paymentMethods[i].classList.add("displaynone");paymentMethods[i].querySelector("input").checked=!1}
document.getElementById("bank_card").parentNode.classList.remove("displaynone");if(this.value=="courier"){document.getElementById("courier_cash").parentNode.classList.remove("displaynone");document.getElementById("courier_cashless").parentNode.classList.remove("displaynone")}else{document.getElementById("paypal").parentNode.classList.remove("displaynone");document.getElementById("bank_details").parentNode.classList.remove("displaynone");document.getElementById("cod").parentNode.classList.remove("displaynone");document.getElementById("e_money").parentNode.classList.remove("displaynone");if(this.value=="bus"){document.getElementById("bus_driver").parentNode.classList.remove("displaynone")}}})})
function checkDeliveryMethodsFields(){var checkOk=!1;var deliveryMethods=document.querySelectorAll(".delivery-method > input");for(i=0;i<deliveryMethods.length;i++){checkOk=checkOk||deliveryMethods[i].checked}
return checkOk}
document.getElementById("delivery-details-button-2").addEventListener('click',function(){var checkMsg=checkDeliveryAddressFields();if(checkMsg){event.preventDefault();document.getElementById("accordion-panel-1").checked=!0;alert(checkMsg);return!1}
if(checkDeliveryMethodsFields()){document.getElementById("accordion-panel-3").checked=!0}else{document.getElementById("accordion-panel-2").checked=!0;alert("Выберите метод доставки!");return!1}})
document.getElementById("accordion-panel-3").addEventListener('click',function(){document.getElementById("delivery-details-button-2").click()});var paymentMethods_input=document.querySelectorAll(".payment-method > input");paymentMethods_input.forEach(function(paymentMethod_input){paymentMethod_input.addEventListener('click',function(){document.getElementById("accordion-panel-3-warning").classList.add("displaynone")})})
function checkPaymentMethodsFields(){var checkOk=!1;var paymentMethods=document.querySelectorAll(".payment-method > input");for(i=0;i<paymentMethods.length;i++){checkOk=checkOk||paymentMethods[i].checked}
return checkOk}
function checkDeliveryFields(event){var checkMsg=checkDeliveryAddressFields();if(checkMsg){event.preventDefault();document.getElementById("accordion-panel-1").checked=!0;alert(checkMsg);return!1}
if(!checkDeliveryMethodsFields()){event.preventDefault();document.getElementById("accordion-panel-2").checked=!0;alert("Выберите метод доставки!");return!1}
if(!checkPaymentMethodsFields()){event.preventDefault();document.getElementById("accordion-panel-3").checked=!0;alert("Выберите метод оплаты!");return!1}
return!0}
document.getElementById("delivery-details-button-3").addEventListener('click',checkDeliveryFields)}
if(document.getElementById("account-page"))
{var editFields=document.querySelectorAll(".editable .form-control");for(i=0;i<editFields.length;i++){editFields[i].addEventListener('input',function(){this.parentNode.querySelector(".text-value").innerText=this.value})}
document.getElementById("client_birthday-button").addEventListener('click',function(){if(!this.parentNode.parentNode.classList.contains("not-editing"))
this.classList.add("displaynone")});document.getElementById("client_phone_prefix").addEventListener('input',function(){this.parentNode.querySelector(".text-value").innerText=this.value+" "+document.getElementById("client_phone").value});document.getElementById("client_phone").addEventListener('input',function(){this.parentNode.querySelector(".text-value").innerText=document.getElementById("client_phone_prefix").value+" "+this.value});document.getElementById("delivery_city").addEventListener('input',function(){this.parentNode.querySelector(".text-value").innerText=this.value+", "+document.getElementById("delivery_address").value});document.getElementById("delivery_address").addEventListener('input',function(){this.parentNode.querySelector(".text-value").innerText=document.getElementById("delivery_city").value+", "+this.value});function checkMyAccountFields(){var checkMsg="";var clientFullname=document.getElementById("client_fullname");var clientBirthday=document.getElementById("client_birthday");var clientEmail=document.getElementById("client_email");var clientPhonePrefix=document.getElementById("client_phone_prefix");var clientPhone=document.getElementById("client_phone");var deliveryCity=document.getElementById("delivery_city");var deliveryAddress=document.getElementById("delivery_address");var deliveryMethod=document.getElementById("delivery_method");var paymentMethod=document.getElementById("payment_method");!(paymentMethod.value)&&(checkMsg="Введите способ оплаты\n"+checkMsg,paymentMethod.focus());!(deliveryMethod.value)&&(checkMsg="Введите способ доставки\n"+checkMsg,deliveryMethod.focus());!(deliveryAddress.value)&&(checkMsg="Введите адрес\n"+checkMsg,deliveryAddress.focus());!(deliveryCity.value)&&(checkMsg="Введите населенный пункт\n"+checkMsg,deliveryCity.focus());!(/^(\+\d)?[0-9\-\(\) ]{5,}$/i.test(clientPhone.value))&&(checkMsg="Введите правильный номер телефона\n"+checkMsg,clientPhone.focus());!(/^[\w\.\-]+@[\w\.\-]+\.[\w\.\-]+$/i.test(clientEmail.value))&&(checkMsg="Введите правильный E-mail\n"+checkMsg,clientEmail.focus());!(clientFullname.value)&&(checkMsg="Введите ФИО\n"+checkMsg,clientFullname.focus());return checkMsg}
var editButtons=document.querySelectorAll(".edit-button");for(i=0;i<editButtons.length;i++){editButtons[i].addEventListener('click',function(){var checkMsg;if(checkMsg=checkMyAccountFields()){alert(checkMsg)}else{this.classList.toggle("btn-secondary");this.classList.toggle("btn-primary");this.parentNode.parentNode.classList.toggle("not-editing")}
event.preventDefault()})}
var favBtns=document.querySelectorAll(".account-page .fav-button");for(i=0;i<favBtns.length;i++){favBtns[i].addEventListener('click',function(){var product_id=this.getAttribute("data-product_id");document.querySelector('.tab-item[data-product_id="'+product_id+'"]').parentNode.remove()})}
var params=(new URL(document.location)).searchParams;var accountTab=params.get('account_tab');if(accountTab){document.querySelector(".tabs .tab."+accountTab+" input").checked=!0}}
var expandableRows=document.querySelectorAll(".table-like .expandable");for(i=0;i<expandableRows.length;i++){expandableRows[i].addEventListener('click',function(){this.classList.toggle("expanded")})}
if(document.getElementById("contacts-page"))
{document.getElementById("submit_button").addEventListener('click',function(event){var checkMsg="";var visitorFullname=document.getElementById("visitor_fullname");var visitorAddress=document.getElementById("visitor_address");var visitorMessage=document.getElementById("visitor_message");!(visitorMessage.value)&&(checkMsg="Введите текст сообщения\n"+checkMsg,visitorMessage.focus());!(/^[\w\.\-]+@[\w\.\-]+\.[\w\.\-]+$/i.test(visitorAddress.value))&&!(/^(\+\d)?[0-9\-\(\) ]{5,}$/i.test(visitorAddress.value))&&(checkMsg="Введите правильный номер телефона или E-mail\n"+checkMsg,visitorAddress.focus());!(visitorFullname.value)&&(checkMsg="Введите ФИО\n"+checkMsg,visitorFullname.focus());if(checkMsg){alert(checkMsg);event.preventDefault();return!1}else{return!0}})
var shopMaps={shop01:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4762.944121787871!2d83.69588468297265!3d53.352706148243115!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xcafba4c7a68d3b6c!2zU2Frd2EuUlUsINGB0LXRgtGMINC_0YDQvtGE0LXRgdGB0LjQvtC90LDQu9GM0L3Ri9GFINC80LDQs9Cw0LfQuNC90L7Qsg!5e0!3m2!1sru!2sru!4v1585511181821!5m2!1sru!2sru",shop02:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d9525.85181678267!2d83.63500669693661!3d53.35286914525541!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x42dda26240757d19%3A0x7d27f03400cbd29b!2z0KLQpiDQkNGA0LXQvdCw!5e0!3m2!1sru!2sru!4v1585509747253!5m2!1sru!2sru",shop03:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d9527.695605476954!2d83.75033647506386!3d53.34461840987865!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x7b33537df6a5b7f0!2zU2Frd2EuUlUsINGB0LXRgtGMINC_0YDQvtGE0LXRgdGB0LjQvtC90LDQu9GM0L3Ri9GFINC80LDQs9Cw0LfQuNC90L7Qsg!5e0!3m2!1sru!2sru!4v1585509818384!5m2!1sru!2sru",shop04:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d8011.931176351792!2d83.68033102259666!3d53.34394734308737!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xcaae5760e7695629!2zU2Frd2EuUlUsINGB0LXRgtGMINC_0YDQvtGE0LXRgdGB0LjQvtC90LDQu9GM0L3Ri9GFINC80LDQs9Cw0LfQuNC90L7Qsg!5e0!3m2!1sru!2sru!4v1585509872273!5m2!1sru!2sru",shop05:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d5663.010936282904!2d83.76099411052648!3d53.3611048422006!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x434b944d9ce9894!2zU2Frd2EuUlUsINGB0LXRgtGMINC_0YDQvtGE0LXRgdGB0LjQvtC90LDQu9GM0L3Ri9GFINC80LDQs9Cw0LfQuNC90L7Qsg!5e0!3m2!1sru!2sru!4v1585509921165!5m2!1sru!2sru",shop06:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2382.2756946147583!2d83.65000761615237!3d53.33832088301307!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x42dda242ff0027b5%3A0x78d2d7f86f434567!2z0YPQuy4g0JHQsNC70YLQuNC50YHQutCw0Y8sIDExNiwg0JHQsNGA0L3QsNGD0LssINCQ0LvRgtCw0LnRgdC60LjQuSDQutGA0LDQuSwgNjU2MDY3!5e0!3m2!1sru!2sru!4v1585510478777!5m2!1sru!2sru",shop07:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2378.1315092925693!2d83.92730831615411!3d53.4124741774566!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x42ddb1fcc3ee089d%3A0xbe54bbc89746f1a0!2zU2Frd2EuUlUsINGB0LXRgtGMINC_0YDQvtGE0LXRgdGB0LjQvtC90LDQu9GM0L3Ri9GFINC80LDQs9Cw0LfQuNC90L7Qsg!5e0!3m2!1sru!2sru!4v1585510348912!5m2!1sru!2sru",shop08:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2428.217895717642!2d85.15884291613241!3d52.51139564461883!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x42c4a9789164b17d%3A0x4d55a8faef8faaeb!2z0YPQuy4g0JLQsNGB0LjQu9GM0LXQstCwLCAx0JAsINCR0LjQudGB0LosINCQ0LvRgtCw0LnRgdC60LjQuSDQutGA0LDQuSwgNjU5MzEx!5e0!3m2!1sru!2sru!4v1585510427256!5m2!1sru!2sru",};var shopAddresses=document.querySelectorAll(".contacts-page .shops .shop-address");shopAddresses.forEach(function(shopAddress){shopAddress.addEventListener('click',function(event){var modalWrap=document.querySelector(".modal.google-map").parentNode;if(modalWrap){var shop=this.getAttribute("data-shop");modalWrap.querySelector(".google-map").innerHTML='<iframe src="'+shopMaps[shop]+'" width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>';modalWrap.classList.remove("displaynone")}
event.preventDefault()})})
var params=(new URL(document.location)).searchParams;var shop=params.get('shop');if(shop){var modalWrap=document.querySelector(".modal.google-map").parentNode;if(modalWrap){modalWrap.querySelector(".google-map").innerHTML='<iframe src="'+shopMaps[shop]+'" width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>';modalWrap.classList.remove("displaynone")}}}
if(document.getElementById("filters"))
{var filterCheckboxes=document.querySelectorAll(".filters .checkbox input[type=checkbox]");for(i=0;i<filterCheckboxes.length;i++){filterCheckboxes[i].addEventListener('change',function(event){var filterCheckboxesFilter1=document.querySelectorAll(".filters .filter1 .checkbox input[type=checkbox]");var filterCheckboxesFilter1_Checked=[];for(j=0;j<filterCheckboxesFilter1.length;j++)
if(filterCheckboxesFilter1[j].checked)
filterCheckboxesFilter1_Checked.push(filterCheckboxesFilter1[j]);var filterCheckboxesFilter2=document.querySelectorAll(".filters .filter2 .checkbox input[type=checkbox]");var filterCheckboxesFilter2_Checked=[];for(j=0;j<filterCheckboxesFilter2.length;j++)
if(filterCheckboxesFilter2[j].checked)
filterCheckboxesFilter2_Checked.push(filterCheckboxesFilter2[j]);var masterclassTRs=document.querySelectorAll(".schedule tr");for(j=1;j<masterclassTRs.length;j++)
masterclassTRs[j].classList.add("displaynone");if(!filterCheckboxesFilter1_Checked.length&&!filterCheckboxesFilter2_Checked.length)
for(j=1;j<masterclassTRs.length;j++)
masterclassTRs[j].classList.remove("displaynone");if(filterCheckboxesFilter1_Checked.length&&!filterCheckboxesFilter2_Checked.length)
for(j=1;j<masterclassTRs.length;j++)
for(k=0;k<filterCheckboxesFilter1.length;k++)
if(filterCheckboxesFilter1[k].checked&&masterclassTRs[j].classList.contains(filterCheckboxesFilter1[k].value))
masterclassTRs[j].classList.remove("displaynone");if(!filterCheckboxesFilter1_Checked.length&&filterCheckboxesFilter2_Checked.length)
for(j=1;j<masterclassTRs.length;j++)
for(k=0;k<filterCheckboxesFilter2.length;k++)
if(filterCheckboxesFilter2[k].checked&&masterclassTRs[j].classList.contains(filterCheckboxesFilter2[k].value))
masterclassTRs[j].classList.remove("displaynone");if(filterCheckboxesFilter1_Checked.length&&filterCheckboxesFilter2_Checked.length)
for(j=1;j<masterclassTRs.length;j++){masterclassTRs[j].classList.remove("displaynone_remove");for(k=0;k<filterCheckboxesFilter1.length;k++)
if(filterCheckboxesFilter1[k].checked&&masterclassTRs[j].classList.contains(filterCheckboxesFilter1[k].value))
masterclassTRs[j].classList.add("displaynone_remove");for(k=0;k<filterCheckboxesFilter2.length;k++)
if(filterCheckboxesFilter2[k].checked&&masterclassTRs[j].classList.contains(filterCheckboxesFilter2[k].value)&&masterclassTRs[j].classList.contains("displaynone_remove"))
masterclassTRs[j].classList.remove("displaynone");}})}}
var masterclassEnrolls=document.querySelectorAll(".masterclass-schedule-page .enroll-button");masterclassEnrolls.forEach(function(masterclassEnroll){masterclassEnroll.addEventListener('click',function(event){var modalWrap=document.querySelector(".modal.masterclass-enroll").parentNode;if(modalWrap){var masterclassID=this.getAttribute("data-masterclass_id");modalWrap.querySelector(".modal.masterclass-enroll .datetime").innerHTML=document.querySelector('.expandable[data-masterclass_id="'+masterclassID+'"] .datetime').innerHTML;modalWrap.querySelector(".modal.masterclass-enroll .title").innerHTML=document.querySelector('.expandable[data-masterclass_id="'+masterclassID+'"] .title').innerHTML;modalWrap.classList.remove("displaynone")}
event.preventDefault()})})
var modalEnrollButton=document.querySelector(".modal.masterclass-enroll .enroll-button");if(modalEnrollButton){modalEnrollButton.addEventListener('click',function(event){})}
function payMethodMouseout(img,src,event){img.setAttribute("src",src)}
var payMethods=document.querySelectorAll(".payment-methods img");payMethods.forEach(function(payMethod){payMethod.addEventListener('mouseenter',function(){var src=this.getAttribute("src");this.setAttribute("src",src.slice(0,-4)+"_color"+src.slice(-4));this.addEventListener('mouseout',payMethodMouseout.bind(null,this,src))})})
var modalWrap=document.querySelector(".modal-wrap");if(modalWrap){modalWrap.addEventListener("click",function(){this.classList.add("displaynone")})
document.addEventListener("keydown",function(event){if(event.keyCode===27)
modalWrap.classList.add("displaynone")})}
document.querySelector(".modal").addEventListener("click",function(event){event.stopPropagation()})}